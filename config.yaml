# voice2md config (YAML; see README.md)
paths:
  inbox_audio_dir: ~/VoiceInbox
  obsidian_vault_dir: ~/ObsidianVault
  topics_dir: ~/ObsidianVault/Topics
  archive_audio_dir: ~/ObsidianVault/_attachments/audio
  log_file: ~/Library/Logs/voice2md.log

state:
  # Where voice2md records what has already been processed (so it wonâ€™t re-run on files left in the inbox).
  # Options: json | sqlite
  backend: json
  path: ~/.config/voice2md/state.json

audio:
  # If true, copy audio into `paths.archive_audio_dir` (e.g. inside your Obsidian vault).
  # If false, leave audio files untouched in `paths.inbox_audio_dir`.
  archive_copy_enabled: false
  # If true, delete the original after a successful archive copy.
  # (Ignored when archive_copy_enabled is false.)
  delete_original_after_archive: false

processing:
  allowed_extensions: [".m4a", ".mp3", ".wav", ".aac"]
  stable_seconds: 10
  poll_interval_seconds: 5
  in_progress_ttl_seconds: 3600
  archive_subdir_format: "%Y/%m"

transcription:
  engine: whisper_cpp  # whisper_cpp | faster_whisper
  whisper_cpp:
    binary: whisper-cli
    model_path: ~/Models/whisper.cpp/ggml-medium.bin
    language: auto
    threads: 6
    extra_args: []
  faster_whisper:
    model: medium
    device: auto
    compute_type: int8
    language: auto
    beam_size: 5

routing:
  infer_topic_max_words: 6
  infer_topic_max_chars: 80

codex:
  enabled: true
  # Command used to generate commentary. `-` means "read prompt from stdin".
  # Example: ["codex", "--color", "never", "exec", "--skip-git-repo-check", "--sandbox", "read-only", "-"]
  command: ["codex", "exec", "--skip-git-repo-check", "--sandbox", "read-only", "-"]
  model: ""
  # Optional: pass through to Codex as `-c model_reasoning_effort="..."` (e.g. low|medium|high|xhigh).
  model_reasoning_effort: ""
  # Optional: enable the Codex web search tool (`codex --search`).
  web_search_enabled: false
  timeout_seconds: 600
  prompt_file: prompts/collaborator_prompt.md
  context_voice_dumps: 3
  context_ai_commentaries: 1
  context_max_chars: 20000
